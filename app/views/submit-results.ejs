<!DOCTYPE html>
<html lang="en">

<head>
  <%- await include("views/common-head.ejs"); %>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/vs2015.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <script src="/js/wait-for-status.js"></script>
    <title>
      Tanuki
    </title>
</head>

<body class="bg-zinc-900">
  <%- await include("views/nav.ejs", { user : user }); %>
    <div class=" container mx-auto p-6 text-white">
      <h2 class="text-4xl text-center mb-8 text-white"> Submit <%= results.id %>
      </h2>
      <div class="flex gap-4 flex-col md:flex-row align-middle text-white">
        <div class="grow flex flex-col justify-center p-2">
          <a href="/contest/<%= results.contest_id %>" class="text-link">
            <%= results.contest_name %>
          </a>
        </div>
        <div class="flex flex-col justify-center p-2">

          <a href="/contest/<%= results.contest_id %>/problem/<%= results.problem_id %>" class="text-link">
            <%= results.short_problem_name %>
          </a>
        </div>
        <div class="flex flex-col justify-center p-2">
          <%= results.submission_time %>
        </div>
        <div id="status-<%= results.id %>" class="flex align-middle p-3 space-x-4">
          <div class="">
            <%- await include("views/rich-status.ejs", {status: results.status}); %>
          </div>
          <% if (results.status.name.toLowerCase()=="que" ) { %>
            <div class="loading lds-dual-ring"></div>
            <script> waitForStatus("<%= results.id %>") </script>
            <% } %>
        </div>
      </div>

      <a class="normal-btn" href="/files/submitted/<%= results.source_uri %>"> Download </a>
      <%- await include("views/task-results.ejs", {group_results: results.group_results}); %>
        <pre><code class="language-<%= results.language_name %>""><%= results.src %></code></pre>
    </div>
    <%- await include("views/common-scripts.ejs"); %>
      <script>
        hljs.highlightAll();
      </script>
</body>

</html>